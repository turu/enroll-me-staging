<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/webflow http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd"
	parent="parent-flow">

	<!--
		Also see ../parent-flow.xml. 
	-->
    <var name="enrollConfigurationHere" class="pl.agh.enrollme.model.EnrollConfiguration"/>
    <var name="enroll" class="pl.agh.enrollme.model.Enroll"/>

    <on-start>
        <set name="enroll.enrollID" value="1" type="java.lang.Integer"/>
        <set name="enroll.enrollConfiguration" value="enrollConfigurationHere"/>
        <set name="enroll.name" value="'Example'" type="java.lang.String"/>
    </on-start>

    <view-state id="configuration">
        <on-render>
            <evaluate expression="configurationDAO.getConfigurationByID(enroll)" result="enrollConfigurationHere"
                      result-type="pl.agh.enrollme.model.EnrollConfiguration"/>
        </on-render>
        <transition  on="myupdate">
            <set name="enrollConfigurationHere.enroll" value="enroll"/>
            <evaluate expression="configurationDAO.addConfiguration(enrollConfigurationHere)"/>
        </transition>
        <!--<transition on="myrefresh">-->
        <!--<evaluate expression="configurationDAO.getConfigurationByID(1)" result="enrollConfiguration"-->
        <!--result-type="pl.agh.enrollme.model.EnrollConfiguration"/>-->
        <!--</transition>-->
    </view-state>

</flow>