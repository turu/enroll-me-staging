<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/webflow http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd">

    <secured attributes="ROLE_ADMIN"/>

    <subflow-state id="chooseEvent" subflow="main/admin-panel/admin-event-selection">
        <transition on="eventToBeAdded" to="manageEvent">
            <!--
                FIXME:
                Unfortunately, there was no other way but to locate eventID into conversationScope.
                Otherwise (request/flow) it's not visible in view.xhtml.
            -->

           <!--  <set value="currentEvent.attributes.eventID" name="conversationScope.eventID" type="int"/> -->
            <set value="currentEvent.attributes.managedEvent" name="conversationScope.managedEvent"
                 type="pl.agh.enrollme.model.Event"/>
        </transition>
        <transition on="eventToBeConfigured" to="manageEvent">
            <!-- <set value="currentEvent.attributes.eventID" name="conversationScope.eventID" type="int"/> -->
            <set value="currentEvent.attributes.managedEvent" name="conversationScope.managedEvent"
                 type="pl.agh.enrollme.model.Event"/>
        </transition>
    </subflow-state>

    <subflow-state id="manageEvent" subflow="main/admin-panel/admin-event-management">
        <transition on="managementComplete" to="chooseEvent"/>
    </subflow-state>

</flow>